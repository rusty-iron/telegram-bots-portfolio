# üì¶ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ó–∞—á–µ–º –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?

–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è:
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (CVE)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π Python

---

## –ì—Ä–∞—Ñ–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

| –¢–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | –ß–∞—Å—Ç–æ—Ç–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----------------|---------|-----------|
| Security patches | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |
| Minor updates | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | üü° –°—Ä–µ–¥–Ω–∏–π |
| Major updates | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | üü¢ –ù–∏–∑–∫–∏–π |

---

## –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv_windows\Scripts\activate  # Windows

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–∞–∫–µ—Ç—ã
pip list --outdated

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—è–∑–≤–∏–º–æ—Å—Ç–∏
pip-audit
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ changelog

–ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –í–°–ï–ì–î–ê —á–∏—Ç–∞–π—Ç–µ changelog:
- **aiogram**: https://github.com/aiogram/aiogram/releases
- **SQLAlchemy**: https://www.sqlalchemy.org/changelog/
- **Celery**: https://docs.celeryq.dev/en/stable/changelog.html
- **Redis**: https://redis.io/docs/latest/operate/oss_and_stack/install/install-redis/
- **PostgreSQL**: https://www.postgresql.org/docs/release/

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ

```bash
# –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø requirements.txt
cp requirements.txt requirements.txt.backup

# –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
pip install --upgrade aiogram

# –ò–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade -r requirements.txt

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏
pip freeze > requirements.txt
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
pytest tests/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º linter
ruff check meatbot/

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Ä—É—á–Ω—É—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
# - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
# - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
# - –û–ø–ª–∞—Ç–∞
# - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
```

### 5. –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
docker-compose build --no-cache

# –ó–∞–ø—É—Å–∫–∞–µ–º
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker-compose logs -f app
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```bash
pip install pip-audit safety
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# pip-audit - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
pip-audit

# safety - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
safety check
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
Found 2 known vulnerabilities:
 - Package: requests (2.25.0)
   CVE: CVE-2021-33503
   Severity: HIGH
   Description: ReDoS vulnerability
   Fixed in: 2.26.0
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ):

```python
# requirements.txt
aiogram>=3.0.0          # Telegram Bot API
SQLAlchemy>=2.0.0       # ORM (SQL injection protection)
cryptography>=41.0.0    # –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
pydantic>=2.0.0         # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω–æ):

```python
redis>=5.0.0            # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
celery>=5.3.0           # –ó–∞–¥–∞—á–∏
psycopg2-binary>=2.9.0  # PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
structlog>=23.0.0       # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### GitHub Dependabot

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/dependabot.yml`:

```yaml
version: 2
updates:
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    labels:
      - "dependencies"
      - "python"
    reviewers:
      - "your-username"
```

### Pre-commit hooks

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```yaml
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/python/safety
    rev: 2.3.5
    hooks:
      - id: safety
        args: ['--json']
```

---

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

### –ú–µ—Ç–æ–¥ 1: –û—Ç–∫–∞—Ç –∫ backup

```bash
# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cp requirements.txt.backup requirements.txt
pip install -r requirements.txt

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### –ú–µ—Ç–æ–¥ 2: Git revert

```bash
# –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∫–æ–º–º–∏—Ç —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
git revert HEAD

# –ò–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
git checkout <commit-hash> requirements.txt
```

---

## Checklist –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

- [ ] –°–æ–∑–¥–∞–Ω backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞–Ω backup requirements.txt
- [ ] –ü—Ä–æ—á–∏—Ç–∞–Ω changelog –ø–∞–∫–µ—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã breaking changes
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ó–∞–ø—É—â–µ–Ω—ã –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Python –≤–µ—Ä—Å–∏–µ–π
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞
- [ ] –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –≤—Ä–µ–º—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pipdeptree

# –ü–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
pip list

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–∫–µ—Ç–µ
pip show aiogram

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip check

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é
pip install aiogram==3.0.0

# –û–±–Ω–æ–≤–∏—Ç—å pip
python -m pip install --upgrade pip
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —É—è–∑–≤–∏–º–æ—Å—Ç–∏:

1. **–ù–ï –ü–ê–ù–ò–ö–û–í–ê–¢–¨**
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ç—á–∞
4. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
6. –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 24 —á–∞—Å–∞

---

## –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### 2025-10-25
- –û–±–Ω–æ–≤–ª–µ–Ω aiogram –¥–æ 3.x
- –î–æ–±–∞–≤–ª–µ–Ω rate limiting
- –î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏
–°–º. `CHANGELOG.md`







